stringLiteral

Simplified BNF to CQL script. The focus here is split in SPACES, WHERE, ITEM-NAME and LITERAL tokens.


Notes:

1-) u(TOKEN) means an uncasesensitive token
2-) ^TOKEN means a not token
3-) %s any text

OFICIAL BNF: https://cassandra.apache.org/doc/cql/CQL.html


<CQL>		::= [<SPACES>] <COMMAND> [ <SPACES> <CONDITION>  ] [ <SPACES>] [<DOT COMMA> [<SPACES>]]

<EMPTY> ::= ""
Notes: 
1-) only content between ""

<SPACES> 	::= <SPACE> [<SPACES>]

<SPACE>		::= " "
Notes: 
1-) only content between ""


<COMMAND>	::= <RESERVED WORDS>  [<SELECTOR BLOCK>] [<SPACES>] [<SYMBOL>] [<SPACES>]  [<LITERAL>] [<SPACES>] [<COMMAND>]

<RESERVED WORDS>::= <RESERVED WORD> [<SPACES> <RESERVED WORDS>]

<RESERVED WORD>	::= ADD	|	ALL	|	ALLOW	|	ALTER	|	AND	|	ANY	|	APPLY	|	ASC	|	ASCII	|	AUTHORIZE	|	BATCH	|	BEGIN	|	BIGINT	|	BLOB	|	BOOLEAN	|	BY	|	
CLUSTERING	|	COLUMNFAMILY	|	COMPACT	|	COUNT	|	COUNTER	|	CONSISTENCY	|	CREATE	|	DECIMAL	|	DELETE	|	DESC	|	DOUBLE	|	DROP	|	EACH_QUORUM	|	FILTERING	|
FLOAT	|	FROM	|	GRANT	|	IN	|	INDEX	|	INET	|	INSERT	|	INT	|	INTO	|	KEY	|	KEYSPACE	|	KEYSPACES	|	LEVEL	|	LIMIT	|	LIST	|	LOCAL_ONE	|
LOCAL_QUORUM	|	MAP	|	MODIFY	|	OF	|	ON	|	ONE	|	ORDER	|	PASSWORD	|	PERMISSION	|	PERMISSIONS	|	PRIMARY	|	QUORUM	|	RENAME	|
REVOKE	|	RECURSIVE	|	SUPERUSER	|	SCHEMA	|	SELECT	|	SET	|	STORAGE	|	SUPERUSER	|	TABLE	|	TEXT	|	TIMESTAMP	|	TIMEUUID	|	TO	|	TOKEN	|	THREE	|	
TRUNCATE	|	TTL	|	TWO	|	TYPE	|	UNLOGGED	|	UPDATE	|	USE	|	USER	|	USERS	|	USING	|	UUID	|	VALUES	|	VARCHAR	|	VARINT	|	WITH	|	WRITETIME
Notes:
1-) case insensitive

<FUNCTION>::= <ITEM NAME>[<SPACES>]<START_PARAMETERS>[<SPACES>][<CONDITION-ITEM>][<SPACES>]<END_PARAMETERS>

<START_PARAMETERS>::=(

<END_PARAMETERS>::=)

<CONDITION-ITEM>::= <SELECTOR ITEM>[<SPACES>]<SYMBOL>[<SPACES>]<SELECTOR ITEM>

<SELECTOR BLOCK> ::= [<SPACES>] <SELECTOR ITEM> [<SPACES>] [<COMMA><SELECTOR BLOCK>]




TODO 1-) Faltou corrigir os que estão com erro, do menor pro mais complexo

TODO 2-) Faltou o teste de Alias

TODO 3-) Acredito que existam tokens faltantes, fazer os testes desses  

TODO 4-) Alias =><SELECTOR ITEM> ::= ^<RESERVED WORD>  (<LITERAL> |<ITEM NAME> [<ACESSOR> <ITEM NAME>] | <INJECT> | <FUNCTION>)
 
TODO 5-) Faltou também varrer o LexicalParser em busca de erros, principalmente falta de updateNeibors ou falta de addSubTokens

<ACESSOR>	::= .

<ITEM NAME>	::=  <ITEM NAME CASE SENSITIVE> | <ITEM NAME CASE INSENSITIVE> | <ASTERISK>

<ITEM NAME CASE SENSITIVE>	::= "<CHARS>" 

<ITEM NAME CASE INSENSITIVE>	::= <CHARS>   
Notes:
1-) If autowrap, output is the same <ITEM NAME CASE SENSITIVE> (Eg: testValue = > "testValue")
2-) If not autowrap, output is lowercase format (Eg: testValue = > testvalue)

<ASTERISK>	::= *

<INJECT>	::= ?

<CHARS>		::= ^<EMPTY>[<CHARS>](a-Z0-9)

<LITERAL>	::= (<NUMBER> | <STRING> | <HEXA>)^<CHARS>

<HEXA>		::= (a-f)|(A-F)|(0-9)|-[<HEXA>]
Notes: 
1-) The position of the hyphen will not be validated	

<NUMBER>	::= (0-9)^<CHARS>[<NUMBER>]

<STRING>	::= (<SINGLE QUOTED>[<INPUT CHARACTER EXCEPT SINGLE>]<SINGLE QUOTED>) | (<DOUBLE QUOTED>[<INPUT CHARACTER EXCEPT DOUBLE>]<DOUBLE QUOTED>) 

<SINGLE QUOTED> ::= '<INPUT CHARACTER EXCEPT SINGLE>'

<DOUBLE QUOTED> ::= "<INPUT CHARACTER EXCEPT DOUBLE>"

<INPUT CHARACTER EXCEPT SINGLE> ::= (^<SINGLE QUOTED>%s)[<INPUT CHARACTER EXCEPT SINGLE>]

<INPUT CHARACTER EXCEPT DOUBLE> ::= (^<DOUBLE QUOTED>%s)[<INPUT CHARACTER EXCEPT DOUBLE>] 

Notes:
1-) Any character except ' unless is part of a double quoted ''  

<SYMBOL>	::= = | + |  - |  / |  <ASTERISK> |  ( | ) | { | } | , [ | ]

<DOT COMMA>		::= ;

<COMMA> ::= ,

<WHERE>		::= u(WHERE)

<CONDITION>	::= <WHERE>  <CONDITIONS> 

<CONDITIONS> ::= <SPACES><CONDITION-ITEM>[<SPACES> <JOIN CONDITION> <CONDITIONS>]

<JOIN CONDITION>::= <AND> | <OR>

<AND> 		::= u(AND)

<OR>		::= u(OR)


u(x) ::= case insensitive

Examples:

1-) SELECT * FROM MyColumnFamily;

2-) UPDATE MyColumnFamily SET 'SomeColumn' = 'SomeValue' WHERE KEY = B70DE1D0-9908-4AE3-BE34-5573E5B09F14;
